/* ============================================================
   1. 本文の整形（両端揃え・斜体解除・文字サイズ）
   ============================================================ */

/* 全体の斜体を解除 */
.post-content, .post-content p, .post-content span, .post-content a {
    font-style: normal !important;
}

/* 記事本文の両端揃えを強制 */
/* 優先度を上げるため、セレクタを3重に重ねています */
html body article .post-content p,
html body article .prose p,
.post-content p {
    text-align: justify !important;
    text-justify: inter-character !important;
    line-height: 1.8 !important;
    margin-bottom: 1.5rem !important;
    display: block !important;
}

/* ============================================================
   2. リンクカード（太枠・角丸・影なし・左寄せ）
   ============================================================ */

/* カードの外側の余白と配置 */
div[class*="my-"] {
    margin: 2.5rem 0 !important;
    display: flex !important;
    justify-content: flex-start !important;
}

/* 枠線の復活とデザイン */
div[class*="my-"] a {
    /* 強力に枠線を表示 */
    border: 2px solid #94a3b8 !important; /* slate-400 */
    border-radius: 1rem !important;
    box-shadow: none !important;
    
    background-color: transparent !important;
    max-width: 650px !important;
    width: 100% !important;
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
    transition: border-color 0.2s ease !important;
    text-decoration: none !important;
}

/* ダークモード時の枠線 */
.dark div[class*="my-"] a {
    border-color: #475569 !important; /* slate-600 */
}

/* ホバー時に枠線を強調 */
div[class*="my-"] a:hover {
    border-color: #6366f1 !important; /* indigo-500 */
}

/* ============================================================
   3. カード内部のレイアウト調整
   ============================================================ */

/* 内側の余白 */
div[class*="my-"] a .p-4,
div[class*="my-"] a .p-5,
div[class*="my-"] a .p-6 {
    padding: 1.5rem !important;
    text-align: left !important; /* カード内は左寄せ */
}

/* カード内のタイトル */
div[class*="my-"] h4 {
    margin: 0.5rem 0 !important;
    line-height: 1.4 !important;
    font-weight: 800 !important;
    font-size: 1.1rem !important;
}

/* 下部のURLセクション */
div[class*="my-"] .truncate.text-\[10px\],
div[class*="my-"] .mt-4 span,
div[class*="my-"] .border-t span {
    font-size: 0.65rem !important;      /* かなり小さく設定 */
    letter-spacing: -0.01em !important; /* 文字間隔を少し詰める */
    opacity: 0.5 !important;           /* 透明度を下げて存在感を抑える */
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace !important; /* 等幅フォントで学術的な印象に */
}

/* 長すぎるURLがはみ出さないように調整 */
div[class*="my-"] .truncate {
    display: block !important;
    max-width: 100% !important;
    word-break: break-all !important;   /* 枠内で強制改行させる */
    white-space: normal !important;     /* 三点リーダー(...)ではなく複数行表示を許容する場合 */
}

/* ============================================================
   4. 記事一覧（1件目のハイライト）
   ============================================================ */
.post-entry:first-of-type {
    background: #fdf6e3 !important; /* ライトモード時のベージュ */
    border-radius: 8px;
}

.dark .post-entry:first-of-type {
    background: #2e2e33 !important; /* ダークモード時 */
}

/* ============================================================
   5. スマートフォン向けの調整（レスポンシブ）
   ============================================================ */

/* 画面幅が 768px 以下のデバイスに適用 */
@media (max-width: 768px) {
    /* サイト全体の基準サイズを少し下げる */
    :root {
        font-size: 15px; 
    }

    /* 記事本文の文字サイズと行間を微調整 */
    html body article .post-content p,
    html body article .prose p,
    .post-content p {
        font-size: 15px !important;
        line-height: 1.7 !important; /* スマホでは行間を少し詰めると読みやすい */
        margin-bottom: 1.2rem !important;
    }

    /* 記事タイトルのサイズを調整 */
    h1.post-title, 
    .entry-header h2 {
        font-size: 1.4rem !important;
        line-height: 1.3 !important;
    }

    /* リンクカード内の文字もスマホ用に最適化 */
    div[class*="my-"] a h4 {
        font-size: 1rem !important;
    }

    div[class*="my-"] a .p-5,
    div[class*="my-"] a .p-6 {
        padding: 1.1rem !important; /* カード内の余白も少し削る */
    }

}
